<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tamara ‚ù§Ô∏è</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  min-height: 100vh;
  background: linear-gradient(135deg, #ff4d6d, #ff758f);
  font-family: 'Poppins', sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
}

.card {
  background: white;
  padding: 50px 40px;
  border-radius: 25px;
  box-shadow: 0 20px 50px rgba(0,0,0,.25);
  text-align: center;
  max-width: 520px;
  width: 90%;
  position: relative;
}

h1 {
  color: #111;
  font-size: clamp(1.8rem, 4vw, 2.8rem);
  margin-bottom: 40px;
}

.buttons {
  position: relative;
  width: 300px;
  height: 70px;
  margin: 0 auto;
}

/* bottoni */
button {
  width: 120px;
  height: 50px;
  line-height: 50px;
  font-size: 1.1rem;
  border-radius: 50px;
  border: none;
  font-weight: 600;
  cursor: pointer;
  text-align: center;
  position: absolute;
}

/* YES */
#yes {
  background: linear-gradient(135deg, #ff1a4f, #ff4d6d);
  color: white;
  box-shadow: 0 8px 20px rgba(255,26,79,.45);
  left: 0;
  top: 0;
  animation: pulse 1s infinite;
}

@keyframes pulse {
  0%,100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

/* NO */
#no {
  background: #eee;
  color: #333;
  position: absolute; 
  transition: left 0.3s ease, top 0.3s ease;
}
</style>
</head>

<body>

<div class="card">
  <h1>Tamara, vuoi essere la mia valentina? ‚ù§Ô∏è</h1>
  <div class="buttons" id="area">
    <button id="yes">YES</button>
    <button id="no">NO</button>
  </div>
</div>

<script>
const noBtn = document.getElementById("no");
const yesBtn = document.getElementById("yes");
const screenPadding = 50;

// Posizione iniziale NO affiancata a YES
noBtn.style.left = (yesBtn.offsetLeft + yesBtn.offsetWidth + 45) + "px";
noBtn.style.top = yesBtn.offsetTop + "px";

// NO scappa lontano solo quando il mouse si avvicina
document.addEventListener("mousemove", e => {
  const btnWidth = noBtn.offsetWidth;
  const btnHeight = noBtn.offsetHeight;
  const mouseX = e.clientX;
  const mouseY = e.clientY;
  const btnRect = noBtn.getBoundingClientRect();
  const btnX = btnRect.left + btnWidth / 2;
  const btnY = btnRect.top + btnHeight / 2;
  const dx = btnX - mouseX;
  const dy = btnY - mouseY;
  const distance = Math.sqrt(dx*dx + dy*dy);

  if(distance < 120) {
    noBtn.style.position = "fixed";
    let newX = btnX + (dx > 0 ? 1 : -1) * (150 + Math.random()*200);
    let newY = btnY + (dy > 0 ? 1 : -1) * (150 + Math.random()*200);
    newX = Math.min(Math.max(screenPadding, newX - btnWidth/2), window.innerWidth - btnWidth - screenPadding);
    newY = Math.min(Math.max(screenPadding, newY - btnHeight/2), window.innerHeight - btnHeight - screenPadding);
    noBtn.style.left = newX + "px";
    noBtn.style.top = newY + "px";
  }
});

// YES click -> terminal divertente con tempi random
yesBtn.addEventListener("click", () => {
  document.body.innerHTML = `<div id="terminal"></div>`;
  const terminal = document.getElementById("terminal");

  const messages = [
    "ahh allora hai scelto di essere la mia valentina",
    "bloccando le mie ex",
    "invadendo uno stato a caso",
    "ok allora ci lavoro.....",
    "sto cercando il miglior ristorante.....",
    "non mi hanno risposto",
    "ora richiamo",
    "bombardo il posto",
    "mi hanno risposto",
    "ordinando il tuo regalo.....",
    "ora non ti basta che aspettare il 14"
  ];

  let line = 0;

  function typeLine(msg, callback) {
    const prompt = "> ";
    let i = 0;
    const lineDiv = document.createElement("div");
    lineDiv.style.fontFamily = "monospace";
    lineDiv.style.color = "#00FF00";
    lineDiv.style.fontSize = "1.2rem";
    terminal.appendChild(lineDiv);

    function typeChar() {
      if(i < msg.length){
        lineDiv.textContent += msg[i];
        i++;
        // timeout random tra 30 e 80ms per ogni carattere
        setTimeout(typeChar, 30 + Math.random()*50);
      } else {
        if(callback) callback();
        terminal.scrollTop = terminal.scrollHeight;
      }
    }
    lineDiv.textContent = prompt;
    typeChar();
  }

  function nextLine() {
    if(line < messages.length){
      typeLine(messages[line], () => {
        line++;
        // ritardo random tra 300 e 700ms tra le righe
        setTimeout(nextLine, 300 + Math.random()*400);
      });
    } else {
      const finalDiv = document.createElement("div");
      finalDiv.style.color = "#FF69B4";
      finalDiv.style.fontFamily = "monospace";
      finalDiv.style.fontSize = "1.2rem";
      finalDiv.style.marginTop = "20px";
      finalDiv.textContent = "üíñ So di essere cringe ma non mi importa üíñ";
      terminal.appendChild(finalDiv);
      terminal.scrollTop = terminal.scrollHeight;
    }
  }

  // stile terminal
  terminal.style.backgroundColor = "#000";
  terminal.style.height = "100vh";
  terminal.style.width = "100vw";
  terminal.style.padding = "30px";
  terminal.style.overflowY = "auto";

  nextLine();
});
</script>

</body>
</html>
